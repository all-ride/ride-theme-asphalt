ride=function(){return terminal=function(){function a(){$("#form-terminal").submit(c),$("#form-terminal").click(b),d(),b()}function b(){$("#form-terminal-command").focus()}function c(){var a=$("#form-terminal"),b=a.attr("action"),c=a.serialize();return $.ajax({type:"POST",url:b,data:c,dataType:"json",success:function(a){var b,c=$("#form-terminal div.result"),g=c.scrollTop(),h=c[0].scrollHeight,i=$("#form-terminal pre.result"),j=$("#form-terminal pre.bash span.path"),k=i.html();k?k+="\n":(i.css("margin-top","0.3em"),$("#form-terminal div.bash").css("margin-top","-0.155em")),b=a.output?a.error?'\n<span class="error">'+a.output+"</span>":"\n"+a.output:"",i.html(k+'<span class="path">'+j.html()+"</span> $ "+a.command+b),j.html(a.path),$("#form-terminal-command").val(""),d(),g+f>=h-e&&c.ready(function(){c.scrollTop(c[0].scrollHeight)})}}),!1}function d(){var a=$("#form-terminal").width()-$("#form-terminal pre.bash").width()-25;$("#form-terminal-command").css("width",a+"px")}var e=15,f=380;return{init:a,focus:b,submit:c}}(),{terminal:terminal}}();