ride=function(){return terminal=function(){function a(){$("#form-terminal").submit(c),$("#form-terminal").click(b),d(),b()}function b(){$("#form-terminal-command").focus()}function c(){var a=$("#form-terminal"),b=a.attr("action"),c=a.serialize();return $.ajax({type:"POST",url:b,data:c,dataType:"json",success:function(a){var b=$("#form-terminal div.result"),c=b.scrollTop(),g=b[0].scrollHeight,h=$("#form-terminal pre.result"),i=$("#form-terminal pre.bash span.path"),j=h.html();if(j?j+="\n":(h.css("margin-top","0.3em"),$("#form-terminal div.bash").css("margin-top","-0.155em")),a.output)if(a.error)var k='\n<span class="error">'+a.output+"</span>";else var k="\n"+a.output;else var k="";h.html(j+'<span class="path">'+i.html()+"</span> $ "+a.command+k),i.html(a.path),$("#form-terminal-command").val(""),d(),c+f>=g-e&&b.ready(function(){b.scrollTop(b[0].scrollHeight)})}}),!1}function d(){var a=$("#form-terminal").width()-$("#form-terminal pre.bash").width()-25;$("#form-terminal-command").css("width",a+"px")}var e=15,f=380;return{init:a,focus:b,submit:c}}(),{terminal:terminal}}();